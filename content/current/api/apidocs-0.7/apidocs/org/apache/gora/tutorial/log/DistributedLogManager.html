<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Thu Mar 23 13:08:09 PDT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DistributedLogManager (Apache Gora 0.7 API)</title>
<meta name="date" content="2017-03-23">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DistributedLogManager (Apache Gora 0.7 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DistributedLogManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/apache/gora/tutorial/log/KeyValueWritable.html" title="class in org.apache.gora.tutorial.log"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/gora/tutorial/log/DistributedLogManager.html" target="_top">Frames</a></li>
<li><a href="DistributedLogManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.gora.tutorial.log</div>
<h2 title="Class DistributedLogManager" class="title">Class DistributedLogManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.gora.tutorial.log.DistributedLogManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DistributedLogManager</span>
extends <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">DistributedLogManager <a href="../../../../../org/apache/gora/tutorial/log/DistributedLogManager.html" title="class in org.apache.gora.tutorial.log"><code>DistributedLogManager</code></a>  is the tutorial class to
 illustrate the basic distributed features that can be gained when persistent dataStore is used together with
 cache dataStore similar to <a href="../../../../../org/apache/gora/jcache/store/JCacheStore.html" title="class in org.apache.gora.jcache.store"><code>JCacheStore</code></a>. Since Hazelcast provides cache as
 a service approach, Apache Gora data stores can now be exposed as a data SERVICE when persistent data store is
 exposed over the JCache store/distributed caching layer.
 <p>
 JCache data store has two modes.
 <p>
 1. Server mode - Participate in Hazelcast cluster as a member. ( DATA GRID ) and communicates directly
 with persistent store to full fill cache read/write operations.
 <p>
 Add following properties gora.properties file to start JCache store in server mode.
 <p>
 <b>gora.cache.datastore.default=org.apache.gora.jcache.store.JCacheStore</b>
 <br><b>gora.datastore.jcache.provider=com.hazelcast.cache.impl.HazelcastServerCachingProvider</b>
 <br><b>gora.datastore.jcache.hazelcast.config=hazelcast.xml</b>
 <p>
 For cluster member network configuration use hazelcast.xml.
 <p>See Network Configuration on
 <a href="http://docs.hazelcast.org/docs/3.5/manual/html/networkconfiguration.html">
 official documentation</a> for more information.</p>
 <p>
 2. Client mode - DOES not participate in Hazelcast cluster as a member. ( DATA GRID ) and For cache
 read/write operations client forwards the requests to hazelcast cluster members which run in SERVER mode.
 <p>
 Add following properties gora.properties file to start JCache store in client mode.
 <p>
 <b>gora.cache.datastore.default=org.apache.gora.jcache.store.JCacheStore</b>
 <br><b>gora.datastore.jcache.provider=com.hazelcast.client.cache.impl.HazelcastClientCachingProvider</b>
 <br><b>gora.datastore.jcache.hazelcast.config=hazelcast-client.xml</b>
 <p>
 For Hazelcast client configuration use hazelcast-client.xml.
 <p>See Java Client Configuration on
 <a href="http://docs.hazelcast.org/docs/3.5/manual/html/javaclientconfiguration.html#java-client-configuration">
 official documentation</a> for more information.</p>
 <p>
 Sample
 ------
 <p>
 1. Start DistributedLogManager in SERVER mode for two or higher instances. ( separate JVMs )
 Notice the Hazelcast cluster is well formed by following Hazelcast logs.
 <br><b>Members [2] {
     Member [127.0.0.1]:5701
     Member [127.0.0.1]:5702 this
 }</b>
 <p>
 2. Start DistributedLogManager in CLIENT mode for one instance.
 Notice the client correctly connected to the cluster by following Hazelcast logs.
 <br><b>Members [2] {
     Member [127.0.0.1]:5701
     Member [127.0.0.1]:5702
 }</b>
 <br><b>INFO: HazelcastClient[hz.client_0_dev][3.6.4] is CLIENT_CONNECTED</b>
 <p>
 3. Now use CLIENT's command line console to forward cache queries to cluster.
 <p>
  (a) <b>-parse cache #input_log_file</b> - This will parse logs from logs file and put Pageview data beans to
      persistent store via the cache. Notice following logs
      <br><b>INFO 19:46:34,833 Written data bean to persistent datastore on key 45.</b>
      <br>on SERVER instance of DistributedLogManager.
      <br>Notice the persistent data bean writes are LOAD BALANCED among SERVER instances.
 <p>
  (b) <b>-parse persistent #input_log_file</b> - This will write parsed log data beans directly to persistent store.
      NOT via cache.
 <p>
  (c) Executing with (a) will create cache entry per each data bean key on each SERVER and CLIENT instances. Since
      now data bean ( key/value ) is now loaded to Hazelcast DATA GRID, entries created data beans
      are now available to all the SERVER and CLIENT instances. Data beans which were loaded to Hazelcast
      DATA Grid can be retrieved from cache so that the latency is reduced compared to when data bean is
      direct retrieved from persistent data store.
 <p>
  (d) Executing with (b) will not create cache entries on keys since the data beans were directly put into
      to persistent store.
      Executing following command
      <br><b>-get #lineNum</b>
      <br>Data will be first loaded from persistent store to cache from one of SERVER instances. Then cache
      entry on given key will be created on all SERVER/CLIENT instances.
      Notice the persistent data bean load on SINGLE SERVER instance. Only one SERVER instance will handle this work.
      <br><b>INFO 17:13:22,652 Loaded data bean from persistent datastore on key 4.</b>
      <br>Notice the cache entry creation on ALL SERVER/CLIENT instances
      <br><b>INFO 17:13:22,656 Cache entry added on key 4.</b>
      <br>Once the cache entry is created, data bean is now available to be retrieved from cache without reaching the
      persistent store.
      Execute the above command consecutively for several times.
      <br><b>-get #lineNum</b>
      Notice there will be NO log entry similar to below
      <br><b>INFO 17:13:22,652 Loaded data bean from persistent datastore on key 4.</b>
      <br>Since there will be no data bean load from persistent data store and the data bean is now loaded from
      cache.
 <p>
  (e) DistributedLogManager has two Apache Gora data stores instances.
      dataStore - which call directly underline persistent data store.
      cacheStore - which call same persistent data store via the caching layer.
      Simple benchmarking purposes use
      <br><b>-benchmark #startLineNum #endLineNum #iterations</b>
      <br>to compare data beans read for two cases. ( Cache layer is present and Not present when executing
      consecutive data reads for same data items in nearby intervals )
      It generates LOG entries similar to below which indicates time spent for two cases in milliseconds
      <br><b>INFO 17:13:22,652 Direct Backend took 1973 ms</b>
      <br><b>INFO 17:18:49,252 Via Cache took 1923 ms</b>
 <p>
  (f) For standalone/single node DistributedLogManager usage, start the DistributedLogManager in SERVER mode.
      Follow the same commands as above over the command line console of SERVER instance.
 <p>
 In the data model, keys are the line numbers in the log file,
 and the values are Pageview objects, generated from
 <code>gora-tutorial/src/main/avro/pageview.json</code>.

 <p>See the tutorial.html file in docs or go to the
 <a href="http://gora.apache.org/docs/current/tutorial.html">
 web site</a> for more information.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/gora/tutorial/log/DistributedLogManager.html#DistributedLogManager--">DistributedLogManager</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/gora/tutorial/log/DistributedLogManager.html#main-java.lang.String:A-">main</a></span>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DistributedLogManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DistributedLogManager</h4>
<pre>public&nbsp;DistributedLogManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)
                 throws <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DistributedLogManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/apache/gora/tutorial/log/KeyValueWritable.html" title="class in org.apache.gora.tutorial.log"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/gora/tutorial/log/DistributedLogManager.html" target="_top">Frames</a></li>
<li><a href="DistributedLogManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010-2017 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
